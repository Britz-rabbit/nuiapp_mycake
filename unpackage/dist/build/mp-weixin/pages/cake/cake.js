(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cake/cake"],{"19c2":function(t,n,e){"use strict";e.r(n);var o=e("cd78"),i=e("bcef");for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);e("5461");var r,u=e("f0c5"),s=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,"6ea2c47e",null,!1,o["a"],r);n["default"]=s.exports},"3ca9a":function(t,n,e){"use strict";(function(t){e("ade0");o(e("66fd"));var n=o(e("19c2"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("543d")["createPage"])},5461:function(t,n,e){"use strict";var o=e("5b36"),i=e.n(o);i.a},"5b36":function(t,n,e){},bcef:function(t,n,e){"use strict";e.r(n);var o=e("fcfa"),i=e.n(o);for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);n["default"]=i.a},cd78:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return o}));var o={uPopup:function(){return Promise.all([e.e("common/vendor"),e.e("node-modules/uview-ui/components/u-popup/u-popup")]).then(e.bind(null,"27cb"))},uCollapse:function(){return Promise.all([e.e("common/vendor"),e.e("node-modules/uview-ui/components/u-collapse/u-collapse")]).then(e.bind(null,"f73b"))},uCollapseItem:function(){return Promise.all([e.e("common/vendor"),e.e("node-modules/uview-ui/components/u-collapse-item/u-collapse-item")]).then(e.bind(null,"be06"))},uIcon:function(){return Promise.all([e.e("common/vendor"),e.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(e.bind(null,"ec43"))},uLine:function(){return Promise.all([e.e("common/vendor"),e.e("node-modules/uview-ui/components/u-line/u-line")]).then(e.bind(null,"c9c3"))}},i=function(){var t=this,n=t.$createElement;t._self._c;t._isMounted||(t.e0=function(n){t.isShow=!1})},a=[]},fcfa:function(t,n,e){"use strict";(function(t){function e(t){return r(t)||a(t)||i(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,n){if(t){if("string"===typeof t)return u(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}}function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function r(t){if(Array.isArray(t))return u(t)}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s={components:{},data:function(){return{goodsList:[],page:0,isShow:!1,menuList:[{title:"菜单",bcid:"",target:""},{title:"蛋糕",bcid:"1",target:""},{title:"面包",bcid:"11",target:""},{title:"零食",bcid:"6",target:""},{title:"购物车",bcid:"",target:"/pages/cart/cart",noline:!0}],breads:[],cakes:[],foods:[],fittings:[]}},onPullDownRefresh:function(){this.reloadData(),t.stopPullDownRefresh()},onLoad:function(){var t=this;this.loadData(),this.$request("/1.1/classes/classify",{limit:4}).then((function(n){t.cakes=n.results[0],t.breads=n.results[1],t.foods=n.results[2],t.fittings=n.results[3]}))},onReachBottom:function(){this.loadData()},computed:{condition:function(){return this.$store.state.condition.condition}},methods:{aboutUs:function(){this.isShow=!1,t.showToast({title:"购物车页有彩蛋",icon:"none"})},toMap:function(){t.navigateTo({url:"/pages/map/map"})},toHome:function(){t.navigateTo({url:"/pages/home/home"})},toPersonal:function(){t.navigateTo({url:"/pages/personal/personal"})},loadData:function(){var n=this;this.page+=1;var o=JSON.stringify(this.condition);console.log(o);var i=8*this.page;this.$request("/1.1/classes/goods?where=".concat(o,"&limit=8&skip=").concat(i)).then((function(o){var i=o.results,a=n.goodsList.map((function(t){return t.id})).indexOf(i[1].id);a<1?n.goodsList=[].concat(e(n.goodsList),e(o.results)):t.showToast({title:"没有更多数据啦",icon:"none"})}))},reloadData:function(){this.goodsList=[],this.page=0,this.loadData()},tapMenu:function(n){var e=n.bcid,o=n.target;e?(this.goodsList=[],this.page=0,this.$store.commit("changeCon",{bcid:1*e}),this.loadData()):o?t.navigateTo({url:"/pages/cart/cart"}):this.isShow=!0},choseFlavor:function(t){var n=t.bid,e=t.tid;this.$store.commit("changeCon",{bcid:n,fid:e}),this.reloadData()}}};n.default=s}).call(this,e("543d")["default"])}},[["3ca9a","common/runtime","common/vendor"]]]);